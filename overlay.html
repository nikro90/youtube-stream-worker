<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural RadioStream</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #0a1a2a 100%);
            color: white;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* LIVE Badge - Top Left */
        .live-badge {
            position: absolute;
            top: 30px;
            left: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 0, 80, 0.9);
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 14px;
            letter-spacing: 1px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        /* Channel Info - Top Right */
        .channel-info {
            position: absolute;
            top: 30px;
            right: 30px;
            text-align: right;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Main Logo - Center */
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .logo-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 60px rgba(102, 126, 234, 0.3);
        }

        .logo-icon {
            font-size: 72px;
        }

        .logo-text {
            font-size: 32px;
            font-weight: bold;
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        .logo-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.5);
            letter-spacing: 2px;
        }

        /* AI Activity Log - Bottom */
        .ai-activity {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 320px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 16px;
            font-size: 11px;
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ai-dot {
            width: 6px;
            height: 6px;
            background: #4ade80;
            border-radius: 50%;
        }

        .ai-log {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .ai-log-item {
            display: flex;
            gap: 8px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 10px;
        }

        .ai-log-time {
            color: rgba(255, 255, 255, 0.3);
            min-width: 45px;
        }

        /* Simple Waveform - Bottom Center */
        .waveform {
            position: absolute;
            bottom: 30px;
            left: 30px;
            display: flex;
            align-items: flex-end;
            gap: 3px;
            height: 40px;
        }

        .wave-bar {
            width: 4px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 2px;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- LIVE Badge -->
        <div class="live-badge">
            <div class="live-dot"></div>
            LIVE
        </div>

        <!-- Channel Info -->
        <div class="channel-info">
            24/7 AI DJ<br>
            Powered by Neural RadioStream
        </div>

        <!-- Main Logo -->
        <div class="logo-container">
            <div class="logo-circle">
                <span class="logo-icon">ðŸŽµ</span>
            </div>
            <div class="logo-text">NEURAL</div>
            <div class="logo-subtitle">R A D I O S T R E A M</div>
        </div>

        <!-- Waveform -->
        <div class="waveform" id="waveform"></div>

        <!-- AI Activity Log -->
        <div class="ai-activity">
            <div class="ai-header">
                <div class="ai-dot"></div>
                AI DJ ACTIVITY
            </div>
            <div class="ai-log" id="aiLog">
                <div class="ai-log-item">
                    <span class="ai-log-time">00:00</span>
                    <span>Stream initialized</span>
                </div>
                <div class="ai-log-item">
                    <span class="ai-log-time">00:01</span>
                    <span>Loading playlist...</span>
                </div>
                <div class="ai-log-item">
                    <span class="ai-log-time">00:02</span>
                    <span>Analyzing audience preferences</span>
                </div>
                <div class="ai-log-item">
                    <span class="ai-log-time">00:03</span>
                    <span>Starting music playback</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden YouTube Player for Audio -->
    <iframe id="ytPlayer" style="position: absolute; top: -9999px; left: -9999px;" width="1" height="1" src=""
        allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>

    <script>
        // Configuration
        const config = {
            // Default playlist - can be overridden via URL params
            playlistId: 'PLrAXtmErZgOeiKm4sgNOknGvNjby9efdf', // Lo-fi playlist
            playlistUrl: new URLSearchParams(window.location.search).get('playlist') || ''
        };

        // Generate simple waveform bars (static heights, no animation)
        function createWaveform() {
            const waveform = document.getElementById('waveform');
            const barCount = 20;

            for (let i = 0; i < barCount; i++) {
                const bar = document.createElement('div');
                bar.className = 'wave-bar';
                // Static heights in a wave pattern
                const height = 10 + Math.sin(i * 0.5) * 15 + Math.random() * 10;
                bar.style.height = `${height}px`;
                waveform.appendChild(bar);
            }
        }

        // Update AI log with realistic messages
        function updateAILog() {
            const messages = [
                'Analyzing chat sentiment...',
                'Optimizing track selection',
                'Monitoring stream health',
                'Adjusting audio levels',
                'Checking viewer engagement',
                'Processing music queue',
                'Syncing with backend API',
                'Updating playlist metadata',
                'Running genre analysis',
                'Balancing energy levels'
            ];

            const log = document.getElementById('aiLog');
            const now = new Date();
            const timeStr = now.toTimeString().substring(0, 5);
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];

            // Add new item
            const newItem = document.createElement('div');
            newItem.className = 'ai-log-item';
            newItem.innerHTML = `
                <span class="ai-log-time">${timeStr}</span>
                <span>${randomMsg}</span>
            `;

            log.appendChild(newItem);

            // Keep only last 5 items
            while (log.children.length > 5) {
                log.removeChild(log.firstChild);
            }
        }

        // Slowly update waveform (minor changes, low CPU)
        function updateWaveform() {
            const bars = document.querySelectorAll('.wave-bar');
            bars.forEach((bar, i) => {
                const height = 10 + Math.sin(Date.now() * 0.001 + i * 0.5) * 15 + Math.random() * 5;
                bar.style.height = `${height}px`;
            });
        }

        // Initialize YouTube player
        function initPlayer() {
            const iframe = document.getElementById('ytPlayer');
            let playlistId = config.playlistId;

            // Check URL param for custom playlist
            if (config.playlistUrl) {
                // Extract playlist ID from URL
                const match = config.playlistUrl.match(/list=([^&]+)/);
                if (match) playlistId = match[1];
            }

            // Load playlist with autoplay
            iframe.src = `https://www.youtube.com/embed/videoseries?list=${playlistId}&autoplay=1&loop=1&enablejsapi=1`;
        }

        // Initialize
        createWaveform();
        initPlayer();

        // Very slow updates to minimize CPU usage
        setInterval(updateAILog, 15000);  // Every 15 seconds
        setInterval(updateWaveform, 2000); // Every 2 seconds
    </script>
</body>

</html>